<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Artion</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous" />

  <link rel="stylesheet" href="../../css/activity/member.css" />

  <style>
    @media (min-width: 1025px) {
      .h-custom {
        width: 100%;
        /* 設置元素寬度為100% */
        height: auto !important;
      }
    }

    .card-registration .select-input.form-control[readonly]:not([disabled]) {
      font-size: 1rem;
      line-height: 2.15;
      padding-left: 0.75em;
      padding-right: 0.75em;
    }

    .card-registration .select-arrow {
      top: 13px;
    }

    .bg-grey {
      background-color: #eae8e8;
    }

    @media (min-width: 992px) {
      .card-registration-2 .bg-grey {
        border-top-right-radius: 16px;
        border-bottom-right-radius: 16px;
      }
    }

    @media (max-width: 991px) {
      .card-registration-2 .bg-grey {
        border-bottom-left-radius: 16px;
        border-bottom-right-radius: 16px;
      }
    }
  </style>
</head>

<body>
  <!-- 整個頁面容器開始 -->
  <div class="container-fluid p-0">
    <!-- navbar top (sign_up)start -->
    <!--  navbar_mob_state 開始-->
    <nav class="navbar_mob navbar navbar-expand-lg navbar-light bg-light sticky-top navbar_mob_state">
      <div class="container-fluid relative d-flex justify-content-end">
        <a class="navbar-brand mx-auto fixed_center logo" href="#">Artion</a>

        <div class="shoppingCart member_svg p-2">
          <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" class="bi bi-cart3" viewBox="0 0 16 16">
            <path
              d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l.84 4.479 9.144-.459L13.89 4H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" />
          </svg>
        </div>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <form class="my-2 navbar_mob">
            <input class="form-control me-2" type="search" placeholder="" aria-label="Search" />
            <button class="colortest btn_old w-50 me-2" type="submit">搜尋</button>
          </form>
          <a class="nav-link display_none_6" href="./memberLogin.html">
            <button type="button" class="colortest btn_old">登入/註冊</button>
          </a>
          <ul class="navbar-nav col-12 me-2">
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown"
                aria-expanded="false"> 活動類型 </a>
              <ul class="dropdown-menu text_align_center" aria-labelledby="navbarDropdown">
                <li><a class="dropdown-item hover" href="#">全部</a></li>
                <li><a class="dropdown-item hover" href="#">展覽</a></li>
                <li><a class="dropdown-item hover" href="#">市集</a></li>
                <li><a class="dropdown-item hover" href="#">表演</a></li>
              </ul>
            </li>
            <li class="nav-item">
              <a class="nav-link triangle hover member_svg" href="#" id="navbarDropdown" role="button"
                aria-expanded="false">
                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 20 20">
                  <path
                    d="M16.219 1.943c.653.512 1.103 1.339 1.287 2.205a.474.474 0 0 1 .065.026l2.045.946a.659.659 0 0 1 .384.597v12.367a.665.665 0 0 1-.85.634l-5.669-1.6l-6.74 1.858a.674.674 0 0 1-.371-.004L.474 17.217a.66.66 0 0 1-.474-.63V3.998c0-.44.428-.756.855-.632l5.702 1.661l2.898-.887a.734.734 0 0 1 .122-.025c.112-.656.425-1.286.95-1.9c.623-.73 1.716-1.158 2.781-1.209c1.105-.053 1.949.183 2.91.936ZM1.333 4.881v11.215l4.87 1.449V6.298l-4.87-1.417Zm8.209.614l-2.006.613v11.279l5.065-1.394v-3.295c0-.36
                        4.299-.659.667-.659c.368 0 .666.295.666.66v3.177l4.733 1.335V6.136l-1.12-.52c-.019.11-.043.218-.073.323A6.134 6.134 0 0 1 16.4 8.05l-2.477 3.093a.67.67 0 0 1-1.073-.037l-2.315-3.353c-.382-.534-.65-1.01-.801-1.436a3.744 3.744 0 0 1-.192-.822Zm3.83-3.171c-.726.035-1.472.327-1.827.742c-.427.5-.637.968-.679 1.442c-.05.571-.016.974.126 1.373c.105.295.314.669.637 1.12l1.811 2.622l1.91-2.385a4.812 4.812 0 0 0 .841-1.657c.24-.84-.122-2.074-.8-2.604c-.695-.545-1.22-.692-2.018-.653Zm.138.697c1.104 0 2 .885 2 1.977a1.988 1.988 0 0 1-2 1.977c-1.104 0-2-.885-2-1.977s.896-1.977 2-1.977Zm0 1.318a.663.663 0 0 0-.667.659c0 .364.299.659.667.659a.663.663 0 0 0 .666-.66a.663.663 0 0 0-.666-.658Z" />
                </svg>&nbsp;地圖
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link triangle hover member_svg" href="#" id="navbarDropdown" role="button"
                aria-expanded="false">
                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" class="bi bi-shop" viewBox="0 0 16 16">
                  <path
                    d="M2.97 1.35A1 1 0 0 1 3.73 1h8.54a1 1 0 0 1 .76.35l2.609 3.044A1.5 1.5 0 0 1 16 5.37v.255a2.375 2.375 0 0 1-4.25 1.458A2.371 2.371 0 0 1 9.875 8 2.37 2.37 0 0 1 8 7.083 2.37 2.37 0 0 1 6.125 8a2.37 2.37 0 0 1-1.875-.917A2.375 2.375 0 0 1 0 5.625V5.37a1.5 1.5 0 0 1 .361-.976l2.61-3.045zm1.78 4.275a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 1 0 2.75 0V5.37a.5.5 0 0 0-.12-.325L12.27 2H3.73L1.12 5.045A.5.5 0 0 0 1 5.37v.255a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0zM1.5 8.5A.5.5 0 0 1 2 9v6h1v-5a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v5h6V9a.5.5 0 0 1 1 0v6h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1V9a.5.5 0 0 1 .5-.5zM4 15h3v-5H4v5zm5-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-3zm3 0h-2v3h2v-3z" />
                </svg>&nbsp;商品
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!--  navbar_mob_state 結束-->

    <!--   navbar_sm_state 開始-->
    <nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top navbar_sm_state p-0">
      <div class="container-fluid">
        <!--                 <a class="navbar-brand mx-5 logo " href="#">Artion</a> -->

        <div class="shoppingCart member_svg p-2 margin_auto display_none_6">
          <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" class="bi bi-cart3" viewBox="0 0 16 16">
            <path
              d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l.84 4.479 9.144-.459L13.89 4H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" />
          </svg>
        </div>
        <a class="nav-link display_none_6 mx-3" href="./member_logUp.html">
          <button type="button" class="colortest btn_old">登入/註冊</button>
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse d-flex-sm justify-content-end" id="navbarSupportedContent">
          <ul class="navbar-nav col-1-sm me-2 mb-lg-0">
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown"
                aria-expanded="false"> 活動類型 </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a class="dropdown-item hover allAct" href="#">全部</a></li>
                <li><a class="dropdown-item hover exhiAct" href="#">展覽</a></li>
                <li><a class="dropdown-item hover marAct" href="#">市集</a></li>
                <li><a class="dropdown-item hover perAct" href="#">表演</a></li>
              </ul>
            </li>
          </ul>
          <form class="d-flex my-2">
            <input class="form-control me-2" type="search" placeholder="" aria-label="Search" />
            <button class="colortest btn_old w-50 me-2" type="submit">搜尋</button>
          </form>
          <div class="shoppingCart member_svg p-2 display_none_7">
            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" class="bi bi-cart3" viewBox="0 0 16 16">
              <path
                d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l.84 4.479 9.144-.459L13.89 4H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" />
            </svg>
          </div>

          <div class="map p-2 member_svg display_none_7">
            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 20 20">
              <path
                d="M16.219 1.943c.653.512 1.103 1.339 1.287 2.205a.474.474 0 0 1 .065.026l2.045.946a.659.659 0 0 1 .384.597v12.367a.665.665 0 0 1-.85.634l-5.669-1.6l-6.74 1.858a.674.674 0 0 1-.371-.004L.474 17.217a.66.66 0 0 1-.474-.63V3.998c0-.44.428-.756.855-.632l5.702 1.661l2.898-.887a.734.734 0 0 1 .122-.025c.112-.656.425-1.286.95-1.9c.623-.73 1.716-1.158 2.781-1.209c1.105-.053 1.949.183 2.91.936ZM1.333 4.881v11.215l4.87 1.449V6.298l-4.87-1.417Zm8.209.614l-2.006.613v11.279l5.065-1.394v-3.295c0-.36
                            4.299-.659.667-.659c.368 0 .666.295.666.66v3.177l4.733 1.335V6.136l-1.12-.52c-.019.11-.043.218-.073.323A6.134 6.134 0 0 1 16.4 8.05l-2.477 3.093a.67.67 0 0 1-1.073-.037l-2.315-3.353c-.382-.534-.65-1.01-.801-1.436a3.744 3.744 0 0 1-.192-.822Zm3.83-3.171c-.726.035-1.472.327-1.827.742c-.427.5-.637.968-.679 1.442c-.05.571-.016.974.126 1.373c.105.295.314.669.637 1.12l1.811 2.622l1.91-2.385a4.812 4.812 0 0 0 .841-1.657c.24-.84-.122-2.074-.8-2.604c-.695-.545-1.22-.692-2.018-.653Zm.138.697c1.104 0 2 .885 2 1.977a1.988 1.988 0 0 1-2 1.977c-1.104 0-2-.885-2-1.977s.896-1.977 2-1.977Zm0 1.318a.663.663 0 0 0-.667.659c0 .364.299.659.667.659a.663.663 0 0 0 .666-.66a.663.663 0 0 0-.666-.658Z" />
            </svg>
          </div>

          <a class="nav-link display_none_7" href="./member_logUp.html">
            <button type="button" class="colortest btn_old mx-4">登入/註冊</button>
          </a>
        </div>
      </div>
    </nav>

    <!--   navbar_sm_state 結束-->
    <!-- navbar top (sign_up)end -->
    <div class="container-fluid Cart">
      <!-- 除了navbar 以外的東西放裡面 -->
      <div style="height: 50px; width: auto; margin: 20px 0px">
        <p style="font-size: 25px; margin-left: 100px" id="actType">購物車</p>
      </div>
      <div class="container">
        <div class="row" id="cardRow">
          <section class="h-100 h-custom" style="background-color: #d2c9ff">
            <div class="container py-5 h-100">
              <div class="row d-flex justify-content-center align-items-center h-100">
                <div class="col-12">
                  <div class="card card-registration card-registration-2" style="border-radius: 15px">
                    <div class="card-body p-0">
                      <div class="row g-0">
                        <div class="col-lg-8">
                          <div class="p-5">
                            <div class="d-flex justify-content-between align-items-center mb-5">
                              <h1 class="fw-bold mb-0 text-black">Shopping Cart</h1>
                              <h6 class="mb-0 text-muted" id="dataItem"> items <span class="itemSpan"></span></h6>
                            </div>
                            <div id="putInHere"></div>

                            <hr class="my-4" />

                            <div class="pt-5">
                              <h6 class="mb-0">
                                <a href="#!" class="text-body"><i class="fas fa-long-arrow-alt-left me-2"></i>Back to
                                  shop</a>
                              </h6>
                            </div>
                          </div>
                        </div>
                        <div class="col-lg-4 bg-grey">
                          <div class="p-5">
                            <h3 class="fw-bold mb-5 mt-2 pt-1">Summary</h3>
                            <hr class="my-4" />

                            <div class="d-flex justify-content-between mb-4">
                              <h5 class="text-uppercase" id="dataItem">items <span class="itemSpan"></span></h5>
                              <h5 class="h5price">$<span class="priceTotal"></span></h5>
                            </div>

                            <h5 class="text-uppercase mb-3">Shipping</h5>

                            <div class="mb-4 pb-2">
                              <select class="select">
                                <option value="1">Standard-Delivery- $5.00</option>
                                <option value="2">Two</option>
                                <option value="3">Three</option>
                                <option value="4">Four</option>
                              </select>
                            </div>

                            <h5 class="text-uppercase mb-3">Give code</h5>

                            <div class="mb-5">
                              <div class="form-outline">
                                <input type="text" id="form3Examplea2" class="form-control form-control-lg" />
                                <label class="form-label" for="form3Examplea2">Enter your code</label>
                              </div>
                            </div>

                            <hr class="my-4" />

                            <div class="d-flex justify-content-between mb-5">
                              <h5 class="text-uppercase">Total price</h5>
                              <h5 class="h5price">$<span class="priceTotal"></span></h5>
                            </div>

                            <button type="button" class="btn btn-dark btn-block btn-lg"
                              data-mdb-ripple-color="dark">Register
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>
        </div>
      </div>
    </div>
    <!-- 整個頁面容器結束 -->
  </div>

  <!-- 即時客服開始 -->
  <div class="fixed-bottom heading member_svg">
    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" class="bi bi-chat-text" viewBox="0 0 16 16">
      <path
        d="M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z" />
      <path
        d="M4 5.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zM4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8zm0 2.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5z" />
    </svg>
  </div>
  <!-- 即時客結束 -->
  <div class="fixed-bottom heading member_svg">
    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" class="bi bi-chat-text" viewBox="0 0 16 16">
      <path
        d="M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z" />
      <path
        d="M4 5.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zM4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8zm0 2.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5z" />
    </svg>
  </div>
  <!-- 即時客結束 -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
    crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</body>

<script>



  //==========呼叫資料庫的方法===============
  function getMerchesData() {
    $.ajax({
      url: "http://localhost:8081/artion/showAllMerches",
      type: "POST",
      dataType: "json",
      success: function (data) {
        var divBody = $("#putInHere");
        divBody.empty();


        if (data.length > 0) {
          $.each(data, function (index, merch) {
            var uniqueId = merch.merchId; // 使用商品ID來創建唯一的ID
            var newRowHTML = `
            <hr class="my-4" />

<div class="row mb-4 d-flex justify-content-between align-items-center">
  <div class="col-md-2 col-lg-2 col-xl-2">
    <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-shopping-carts/img5.webp" class="img-fluid rounded-3" alt="Cotton T-shirt" />
  </div>
  <div class="col-md-3 col-lg-3 col-xl-3">
    <h6 class="text-muted">${merch.merchSort}</h6>
    <h6 class="text-black mb-0">${merch.merchName}</h6>
<h6 class="text-black mb-0 merch_${merch.merchId}">$ ${merch.merchPrice}</h6>
  </div>
  <div class="col-md-3 col-lg-3 col-xl-2 d-flex">
                      <button class="btn btn-link px-2"
                        onclick="this.parentNode.querySelector('input[type=number]').stepDown()">
                        <i class="fas fa-minus"></i>
                      </button>

                      <input id="form1 " min="0" name="quantity" value="0" type="number"
                        class="form-control form-control-sm dynamic-input" data-merch="${merch.merchId}"/>

                      <button class="btn btn-link px-2"
                        onclick="this.parentNode.querySelector('input[type=number]').stepUp()">
                        <i class="fas fa-plus"></i>
                      </button>
                    </div>
  <div class="col-md-3 col-lg-2 col-xl-2 offset-lg-1 ">
    <h6 class="mb-0 h6price_${merch.merchId}">$<span id="wow" data_span="${merch.merchId}"></span></h6>
  </div>
  <div class="col-md-1 col-lg-1 col-xl-1 text-end">
    <a href="#!" class="text-muted"><i class="fas fa-times"></i></a>
  </div>
</div>
                        `;
            divBody.append(newRowHTML);

            // 初始化页面时更新一次总价

          });




        } else {
          divBody.html("<tr><td colspan='11'>没有商品数据。</td></tr>");
        }

        // 监听数量输入框的变化
        $('.dynamic-input').on('input', function () {
          updateTotalQuantity();


        });
      },
      error: function () {
        alert("请求失败。");
      },
    });
  };

  //==========呼叫資料庫的方法===============



  //==========更新商品列的點擊事件===============

  $('.Cart').on('click', '[data-merch]', function () {
    // 在這裡處理您的事件，您可以訪問被點擊的元素的值
    var inputValue = parseFloat($(this).val());
    var value = $(this).data('merch');
    // console.log('Clicked input value for merch ' + value + ': ' + inputValue);

    // 獲取價格的內容
    var merchPrice = $(`.merch_${value}`).text();
    // console.log('Price for merch ' + value + ': ' + merchPrice);
    // console.log(merchPrice);

    var merchPrice = parseFloat(merchPrice.replace('$', ''));

    // // 確保匹配成功並提取數字
    // if (!isNaN(merchPrice)) {
    //   console.log('Price for merch ' + value + ': ' + merchPrice);
    // } else {
    //   console.log("未找到有效的價格。");
    // }

    // console.log(inputValue);

    // console.log(merchPrice);

    var priceTotal = inputValue * merchPrice;

    // console.log("相乘後:" + priceTotal);

    //找span標籤
    var h6Element = $(`.h6price_${value}`);
    // console.log(h6Element);
    var dataSpan = h6Element.find('span[data_span]');
    // console.log(dataSpan);
    dataSpan.text(priceTotal);

    // 输出获取的值
    // console.log("获取到的<span>元素的文本内容为：" + dataSpan.text());

    var total = 0;

    $(dataSpan).each(function () {
      var priceText = $(this).text().replace('$', ''); // 获取小计价格
      var price = parseFloat(priceText); // 转换为浮点数

      if (!isNaN(price)) {
        total += price; // 将小计价格相加
      }
    });

    localStorage.setItem("QAQ", total); // 存储总价

    var QAQ = parseFloat(localStorage.getItem("QAQ")); // 提取并解析总价

    $('.priceTotal').text(QAQ.toFixed(2)); // 更新总价格显示


    // 更新总价格的<span>元素，带上货币符号




  });
  //==========更新商品列的點擊事件===============

  //==========更新數量的方法===============

  // 初始化总数量为0
  var totalQuantity = 0;

  // 更新总数量的显示函数
  function updateTotalQuantity() {
    var quantityElements = $('.dynamic-input');
    // console.log(quantityElements);
    totalQuantity = 0;

    // 遍历所有数量输入框，将数量相加
    quantityElements.each(function () {
      var inputValue = $(this).val();
      totalQuantity += parseInt(inputValue);
    });

    // 更新显示总数量的元素
    $('h6#dataItem span.itemSpan').text(totalQuantity);
    $('h5#dataItem span.itemSpan').text(totalQuantity);
  };

  //==========更新數量的方法===============

  // 更新總價格的函數



  //==========一進入畫面就更新===============
  $(document).ready(function () {

    getMerchesData();



  });
  //==========一進入畫面就更新===============

</script>

</html>